from distutils.core import setup, Extension
from distutils import sysconfig, ccompiler
import distutils
import os.path

# print ( distutils.util.get_platform() )
# print ( sysconfig.get_config_vars() )

module_armemu = Extension("@SIM_PYTHON_IMPORT_NAME@", 
	sources=["@CMAKE_SOURCE_DIR@/python/py_variable.cc",
		"@CMAKE_SOURCE_DIR@/python/py_simulator.cc",
		"@CMAKE_SOURCE_DIR@/python/armemu.cc"],
	include_dirs=[
		'@CMAKE_SOURCE_DIR@',
		'@CMAKE_BINARY_DIR@',
		'@OSCI_SYSTEMC_INCLUDE_DIR@',
		'@OSCI_TLM2_INCLUDE_DIR@'],
	library_dirs=['@CMAKE_ARCHIVE_OUTPUT_DIRECTORY@',
		os.path.dirname('@OSCI_SYSTEMC_LIBRARIES@')],
	libraries=[@PYTHON__ARMEMU__LIBS@],
	extra_compile_args=['-fPIC'],
	extra_link_args=['-fPIC'],
	)
	
setup(name="@SIM_PYTHON_IMPORT_NAME@", version="@SIM_VERSION@",
	ext_modules=[module_armemu]
 	)

